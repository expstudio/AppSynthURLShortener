<div class="statusReport" ng-controller="statusReportController">
    <div class="container">
        <div class="row">
            <div ng-include="'../../common/views/appHeader.html'"></div>
        </div>

        <div class="content">
            <div class="filter">
                <div class="row">
                    <form class="search-form" name="search-form" ng-submit="searchReport(filter)">
                        <div class="col-sm-3">
                            <input type="text"
                                   ng-value="event.startDate | date: format"
                                   class="form-control"
                                   datepicker-popup="{{format}}"
                                   ng-model="filter.start"
                                   is-open="pickers.start"
                                   datepicker-options="dateOptions"
                                   date-disabled="disabled(date, mode)"
                                   ng-required="true"
                                   close-text="Close"
                                   placeholder="{{'CHOOSE_START_DATE' | translate}}"
                                   ng-click="open('start')" />
                        </div>

                        <div class="col-sm-3">
                            <input type="text"
                                   ng-value="event.startDate | date: format"
                                   class="form-control"
                                   datepicker-popup="{{format}}"
                                   ng-model="filter.end"
                                   is-open="pickers.end"
                                   datepicker-options="dateOptions"
                                   date-disabled="disabled(date, mode)"
                                   ng-required="true"
                                   close-text="Close"
                                   placeholder="{{'CHOOSE_END_DATE' | translate}}"
                                   ng-click="open('end')" />
                        </div>
                        <div class="col-sm-3">
                            <button class="btn btn-info" type="submit">{{'SEARCH' | translate}}</button>
                        </div>
                        <div class="col-sm-3 text-right">
                            <button class="btn btn-info" ng-click="printTable()">{{'EXPORT' | translate}}</button>
                        </div>
                    </form>

                </div>
            </div>
            <table class="table table-stripped" id="reportTable" table-export="{type: 'excel', tableName: 'table', escape:'false'}">
                <thead>
                    <tr>
                        <th>{{'CHILD' | translate}}</th>
                        <th ng-repeat="child in statusReport[statusReport.length-1].status">
                            {{child.name}}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="record in statusReport | orderBy: '-date'">
                        <td>{{record.date | date : 'dd.MM.yyyy'}}</td>
                        <td ng-repeat="child in record.status">
                            <span ng-if="['incare', 'outcare'].indexOf(child.status) > -1">
                                {{child.status + '_report' | uppercase | translate}}
                            </span>
                            <span ng-if="['incare', 'outcare'].indexOf(child.status) == -1">
                                {{child.status | uppercase | translate}}
                            </span>
                        </td>
                    </tr>
                </tbody>

            </table>
            <!--<table class="table table-stripped">
                <thead>
                    <tr>
                        <th>Child</th>
                        <th ng-repeat="record in  statusReport">{{record.date | date : 'dd/MM/yy'}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="child in statusReport[statusReport.length-1].status">
                        <td>{{child.name}}</td>
                    </tr>
                </tbody>
            </table> -->
        </div>
        <div class="appFooter">
            <div ng-include="'../../common/views/appFooter.html'"></div>
        </div>
    </div>
</div>
